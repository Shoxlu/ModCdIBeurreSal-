#include "main.tecl"
void BossItemCard();

void BossItemPhase(var A, var B, var C);

void EffChargePoint2(var A, var B, var C, var D, var E);

void Boss()
{
    setBoss(0);
    setInvuln(120);
    flagSet(3);
    $CAPTURE = 1;
    movePos(0.0f, 128.0f);
    @EffChargePoint2(1.5707964f, -1.0471976f, 8, 2, 6);
    @EffChargePoint2(1.5707964f, 1.0471976f, 10, 7, 3);
    wait(101);
    anmSelect(3);
    anmSetMain(0, 0);
    flagClear(3);
    flagSet(64);
    lifeSet(17000);
    anmSetSprite(0, 0);
    dialogWait();
    setChapter(43);
+1: //1
    setHurtbox(40.0f, 40.0f);
    setHitbox(48.0f, 48.0f);
    moveLimit(0.0f, 128.0f, 280.0f, 64.0f);
    anmSelect(1);
    anmSetSprite(1, 107);
    anmSetSprite(2, 112);
    anmSelect(3);
    fog(160.0f, 16711680);
    unless ($SPELL_ID >= 0) goto Boss_1200 @ 1;
    unless (($SPELL_ID >= 2) && ($SPELL_ID <= 5)) goto Boss_996 @ 1;
    lifeSet(2000);
    @BossCard1();
    goto Boss_1200 @ 1;
Boss_996:
    unless (($SPELL_ID >= 6) && ($SPELL_ID <= 9)) goto Boss_1200 @ 1;
    lifeSet(2100);
    @BossCard2();
Boss_1200:
    debug22(3, "Boss3");
    @Boss1();
    delete();
}



void Boss1()
{
    timerReset();
    setNext(0, 2000, 2400, "BossCard1");
    lifeMarker(0, 2000.0f, -24448);
    stars(3);
    anmSelect(3);
    anmSetMain(0, 0);
    anmPlay(1, 75);
    playSound(54);
    wait(60);
    anmPlay(1, 86);
    playSound(6);
	float A = 0f;
	while(1)
	{
		A = RANDRAD;
		@Boss1_at(6, rad(6), 3, A);
		@Boss1_at(3, -rad(6), 5, A);
		wait(90);
		A = RANDRAD;
		@Boss1_at(3, -rad(6), 5, A);
		@Boss1_at(6, rad(6), 3, A);
		moveRand(20, 14, 2f);
		wait(90);
	}
}

void Boss1_at(int A, float B, int C, float D)
{
    etNew(0);
    etAim(0, C);
	etCount(0, 40, 4);
	etSprite(0, 4, A);
    etAngle(0, D, B);
	etSpeed(0, 3f, 2f);
	etOn(0);
}

void BulletAim() {
    etNew(1);
    etSpeed(1, 0.5f, 0.5f);
    etSprite(1, ET_BUBBLE, 1);

    while(1)
    {
        wait(300);
        etOn(1);
    }
}

void FireSpellCard2() {
    etNew(1);
    
    etSprite(1, 25, 0);
    etSpeed(1, 2f, 2f);

    
    while(1)
    {
        int A = 0;
        float dist = 0.7f;
        float memoPlayerAngle = ANGLE_PLAYER;
        while(A < 10) {
            etAim(1, 3);
            etAngle(1, memoPlayerAngle, 0f);
            etOn(1);
            
            wait(25);
            @SteamSpellCard2(memoPlayerAngle)async;


            etAngle(1, memoPlayerAngle+dist, 0f);
            etOn(1);
            etAngle(1, memoPlayerAngle-dist, 0f);
            etOn(1);

            wait(25);
            @SteamSpellCard2(memoPlayerAngle + dist)async;
            @SteamSpellCard2(memoPlayerAngle - dist)async;

            A+=1;
            dist -=0.2f;

        }
        

        wait(80);
        moveRand(60, 4, 1.0f);
        wait(60);

        
    }
}

void SteamSpellCard2(float angleP) {
    etNew(2);
    
    etSprite(2, 1, 0);
    etSpeed(2, 0.3f:0.5f:0.8f:1.5f, 0.3f:0.5f:0.8f:1.5f);
    etEx2(2, 0, 16, 1 , 1, ANGLE_RANDOM, 0, 1f, 0.3f:0.5f:0.8f:1.5f, -999999.0f, -999999.0f);
    etEx(2, 0, EX_WAIT, 45, NEG, NEGF, NEGF);
    etEx(2, 0, EX_DELETE, 1, NEG, NEGF, NEGF);

    float dist = 46f;

    while(1)
    {
        float A = RANDF/1.5f - RANDF/1.5f;
        etAngle(2, angleP + A/10f, 0f);
        etAim(2, 3);
        float B = RAND%30 + 30;
        etDist(2, dist + 10f );
        etOn(2);
        dist += 4f;
        wait(2);
    }

}

void Boss2()
{
    setInvuln(120);
    lifeSet(19100);
    unless ($TIMEOUT == 0) goto Boss2_200 @ 0;
    etCancel(640.0f);
    goto Boss2_220 @ 0;
Boss2_200:
    etClear(640.0f);
Boss2_220:
+2: //2
    setChapter(44);
+2: //4
    ins_569(1);
    movePosTime(60, 4, 0.0f, 128.0f);
    moveLimit(0.0f, 128.0f, 240.0f, 64.0f);
    @BossItemPhase(40, 10, 64.0f);
    timerReset();
    killAllAsync();
    enmKillAll();
    unless ($TIMEOUT == 0) goto Boss2_524 @ 4;
    etCancel(640.0f);
    goto Boss2_544 @ 4;
Boss2_524:
    etClear(640.0f);
Boss2_544:
    spellEnd();
    funcSet(0);
    reset();
    playSound(27);
    moveVel(0.0f, 0.0f);
    moveVelTime(0, 0, 0.0f, 0.0f);
    movePosTime(0, 0, 0.0f, 0.0f);
    $MISS_COUNT = 0;
    $BOMB_COUNT = 0;
    $CAPTURE = 1;
    anmSelect(3);
    anmSetMain(0, 0);
    setNext(0, 2100, 2520, "BossCard2");
    lifeMarker(0, 2100.0f, -24448);
    stars(2);
    anmSelect(3);
    anmSetMain(0, 0);
    wait(60);
    anmPlay(1, 75);
    playSound(54);
    wait(60);
    anmPlay(1, 86);
    playSound(6);
	@Boss2_at()async;
	while(1)
	{
	    wait(480);
		moveRand(20, 14, 2f);
	}
}

void Boss2_at()
{
	int C = 13;
    etNew(0);
    etAim(0, 3);
    
    
    
    while(1)
    {
        float A = RANDRAD;
        int B = 0;
        if(C == 13) {
            C = 7;
        }else if(C == 7) {
            C = 13;
        }
        float alea = (RANDF/1000f):(RANDF/200f):(RANDF/100f):(RANDF/100f);
        while(B < 3) {
            etCount(0, 28:28:28:40, 1);

            etSprite(0, 4, C);
            etAngle(0, A, 0f);
            
            if(C == 13) {
                etExSet(0, 0, 0, 1, 10, NEG, 0.05f, 0f);
                if(B == 0) {
                    etSpeed(0, 1.2f, 1.2f);
                    etExSet(0, 1, 0, EX_ANGLE_ACCEL, 100, NEG, 0f, alea);
                }else if(B==1) {
                    etSpeed(0, 1.1f, 1.1f);
                    etExSet(0, 1, 0, EX_ANGLE_ACCEL, 100, NEG, 0f, alea*1.25);
                }else {
                    etSpeed(0, 1.0f, 1.0f);
                    etExSet(0, 1, 0, EX_ANGLE_ACCEL, 100, NEG, 0f, alea*1.5f);
                }
                
                
            }else if(C == 7) {
                etExSet(0, 0, 0, 1, 5, NEG, 0.05f, 0f);
                if(B == 0) {
                    etSpeed(0, 1.0f, 1.0f);
                    etExSet(0, 1, 0, EX_ANGLE_ACCEL, 100, NEG, 0f, -alea);
                }else if(B==1) {
                    etSpeed(0, 0.9f, 0.9f);
                    etExSet(0, 1, 0, EX_ANGLE_ACCEL, 100, NEG, 0f, -alea*1.25);
                }else {
                    etSpeed(0, 0.8f, 0.8f);
                    etExSet(0, 1, 0, EX_ANGLE_ACCEL, 100, NEG, 0f, -alea*1.5f);
                }
                
            }

            etOn(0);
            B = B + 1;
            
            if(B == 3) {
                wait(20);
            }
            else {
                wait(10);
            }
        }
        
    }
}

void Boss2_at2()
{
    etNew(1);
	etAim(1, 3);
	etSprite(1, 9, 8);
	etCount(1, 40:50:60:60, 1:1:1:2);
	etSpeed(1, 1f, 1.5f);
	while(1)
	{
	etAngle(0, RANDRAD, 0f);
	etOn(1);
	wait(60);
	}
}

void Boss3()
{
    lifeSet(18500);
	GI1 = 0;
	setBoss(0);
    unless ($TIMEOUT == 0) goto Boss3_180 @ 0;
    etCancel(640.0f);
    goto Boss3_200 @ 0;
Boss3_180:
    etClear(640.0f);
Boss3_200:
+2: //2
    setChapter(45);
+2: //4
    ins_569(1);
    moveLimit(0.0f, 128.0f, 280.0f, 96.0f);
    @BossItemPhase(40, 10, 64.0f);
    timerReset();
    killAllAsync();
    enmKillAll();
    unless ($TIMEOUT == 0) goto Boss3_504 @ 4;
    etCancel(640.0f);
    goto Boss3_524 @ 4;
Boss3_504:
    etClear(640.0f);
Boss3_524:
    spellEnd();
    funcSet(0);
    reset();
    playSound(27);
    moveVel(0.0f, 0.0f);
    moveVelTime(0, 0, 0.0f, 0.0f);
    movePosTime(0, 0, 0.0f, 0.0f);
    $MISS_COUNT = 0;
    $BOMB_COUNT = 0;
    $CAPTURE = 1;
    anmSelect(3);
    anmSetMain(0, 0);
    setNext(0, 2500, 2400, "BossCard3");
    lifeMarker(0, 2500.0f, -24448);
    stars(1);
    setInvuln(120);
    anmSelect(3);
    anmSetMain(0, 0);
    wait(60);
    anmPlay(1, 75);
    playSound(54);
    wait(60);
    anmPlay(1, 86);
    playSound(6);
    @Boss3_at()async;
	while(1)
	{
		wait(120);
		moveRand(60, 4, 1.0f);
	}
}

void Boss3_at()
{
    int C = 13;
    etNew(0);
    etAim(0, 3);
    
    
    
    while(1)
    {
        float A = RANDRAD;
        int B = 0;
        if(C == 13) {
            C = 6;
        }else if(C == 6) {
            C = 13;
        }
        float alea = (RANDF/1000f):(RANDF/200f):(RANDF/100f):(RANDF/100f);
        while(B < 1) {
            etCount(0, 28:28:28:32, 1);

            etSprite(0, 4, C);
            etAngle(0, A, 0f);
            
            if(C == 13) {
                etExSet(0, 0, 0, 1, 10, NEG, 0.05f, 0f);
                if(B == 0) {
                    etSpeed(0, 1.0f, 1.0f);
                    etExSet(0, 1, 0, EX_ANGLE_ACCEL, 100, NEG, 0.01f, alea);
                }
                
                
            }else if(C == 6) {
                etExSet(0, 0, 0, 1, 5, NEG, 0.05f, 0f);
                if(B == 0) {
                    etSpeed(0, 0.8f, 0.8f);
                    etExSet(0, 1, 0, EX_ANGLE_ACCEL, 100, NEG, 0.01f, -alea);
                }
                
            }

            etOn(0);
            B = B + 1;
            
            if(B == 1) {
                wait(10);
            }
            else {
                wait(5);
            }
        }
        
    }
}

void Boss4()
{
    setInvuln(180);
    lifeSet(3000);
    unless ($TIMEOUT == 0) goto Boss4_200 @ 0;
    etCancel(640.0f);
    goto Boss4_220 @ 0;
Boss4_200:
    etClear(640.0f);
Boss4_220:
+2: //2
    setChapter(65);
+2: //4
    ins_569(1);
    moveLimit(0.0f, 128.0f, 280.0f, 96.0f);
    @BossItemPhase(40, 10, 64.0f);
    timerReset();
    killAllAsync();
    enmKillAll();
    unless ($TIMEOUT == 0) goto Boss4_524 @ 4;
    etCancel(640.0f);
    goto Boss4_544 @ 4;
Boss4_524:
    etClear(640.0f);
Boss4_544:
    spellEnd();
    funcSet(0);
    reset();
    playSound(27);
    moveVel(0.0f, 0.0f);
    moveVelTime(0, 0, 0.0f, 0.0f);
    movePosTime(0, 0, 0.0f, 0.0f);
    $MISS_COUNT = 0;
    $BOMB_COUNT = 0;
    $CAPTURE = 1;
    anmSelect(3);
    anmSetMain(0, 0);
    stars(0);
    movePosTime(160, 9, 0.0f, 144.0f);
    lifeMarker(0, 0.0f, -24448);
    wait(160);
    @BossCard4();
    return;
}


void BossCard1()
{
    var A, B, C, D;
    unless ($TIMEOUT == 0) goto BossCard1_160 @ 0;
    etCancel(640.0f);
    goto BossCard1_180 @ 0;
BossCard1_160:
    etClear(640.0f);
BossCard1_180:
+2: //2
    setChapter(62);
+2: //4
    ins_569(1);
    stars(3);
    @BossItemCard();
    timerReset();
    killAllAsync();
    enmKillAll();
    unless ($TIMEOUT == 0) goto BossCard1_448 @ 4;
    etCancel(640.0f);
    goto BossCard1_468 @ 4;
BossCard1_448:
    etClear(640.0f);
BossCard1_468:
    spellEnd();
    funcSet(0);
    reset();
    playSound(27);
    moveVel(0.0f, 0.0f);
    moveVelTime(0, 0, 0.0f, 0.0f);
    movePosTime(0, 0, 0.0f, 0.0f);
    $MISS_COUNT = 0;
    $BOMB_COUNT = 0;
    $CAPTURE = 1;
    setNext(0, 0, 2220, "Boss2");
    spell(42, 2220, 500000, "Signe de la chaleur [Cuisson lente]");
    movePosTime(60, 4, 0.0f, 200.0f);
    moveLimit(0.0f, 200.0f, 240.0f, 64.0f);
    anm316(0, 0);
    anmPlay(1, 79);
    anmPlay(1, 75);
    playSound(54);
+120: //124
    nop();
	
    @BossCard1_at();
	wait(10000);
}

void BossCard1_at()
{
    etNew(0);
    etAim(0, 3);
    etSprite(0, 4, 2);
	etSpeed(0, 2f, 2f);
	etCount(0, 3:5:7:9, 1);
    float A = rad(270);

    @BossFamiliar()async;
    

	while(1)
	{
    etAngle(0, A, 0f);
	etOn(0);
	wait(18);
	}
}

void BossFamiliar() {
    int A = 0;
    etNew(1);
    etAim(0, 3);
    etSprite(1, 25, 0);
    etSpeed(1, 2f, 2f);
    
    etEx(1, 0, EX_SETSPRITE, 25, 0, NEGF, NEGF);
    etEx2(1, 0, 16, 0 , 1, ANGLE_AIMED, 0, 0f, 3f, -999999.0f, -999999.0f);
    etEx(1, 0, EX_WAIT, 60, NEG, NEGF, NEGF);
    etEx2(1, 0, 16, 60 , 6, ANGLE_AIMED, 0, 0f, 2f, -999999.0f, -999999.0f);
    etEx(1, 0, EX_SETSPRITE, 26, 0, NEGF, NEGF);
    
    while(1) {
        float angleT = rad(90);
        while(A < 25) {
            etAngle(1, angleT, angleT);
            etDist(1,160f);
            etOn(1);
            A+=1;
            angleT +=rad(6);
            wait(10);
        }
        A = 0;
        wait(360);
    }
    


    
}

void BossCard2()
{
    var A, B, C, D;
    unless ($TIMEOUT == 0) goto BossCard1_160 @ 0;
    etCancel(640.0f);
    goto BossCard1_180 @ 0;
BossCard1_160:
    etClear(640.0f);
BossCard1_180:
+2: //2
    setChapter(62);
+2: //4
    ins_569(1);
    stars(3);
    @BossItemCard();
    timerReset();
    killAllAsync();
    enmKillAll();
    unless ($TIMEOUT == 0) goto BossCard1_448 @ 4;
    etCancel(640.0f);
    goto BossCard1_468 @ 4;
BossCard1_448:
    etClear(640.0f);
BossCard1_468:
    spellEnd();
    funcSet(0);
    reset();
    playSound(27);
    moveVel(0.0f, 0.0f);
    moveVelTime(0, 0, 0.0f, 0.0f);
    movePosTime(0, 0, 0.0f, 0.0f);
    $MISS_COUNT = 0;
    $BOMB_COUNT = 0;
    $CAPTURE = 1;
    setNext(0, 0, 2220, "Boss3");
    spell(46, 2220, 500000, "Signe de la Vapeur [Etreinte Furtive]");
    movePosTime(160, 9, 0.0f, 144.0f);
    moveLimit(0.0f, 128.0f, 280.0f, 64.0f);
    anm316(0, 0);
    anmPlay(1, 79);
    anmPlay(1, 75);
    playSound(54);
+120: //124
    nop();
	
    @BossCard2_at();
	wait(10000);
}

void BossCard2_at()
{
	etNew(0);
    
    etSprite(0, 10, 8);
    etCount(0,5,1);
    etSpeed(0, 0.1f, 0.1f);
    etEx2(0, 0, 16, 1 , 1, ANGLE_RANDOM, 0, 1f, 0.1f, -999999.0f, -999999.0f);
    etEx(0, 0, EX_WAIT, 180, NEG, NEGF, NEGF);
    etEx(0, 0, EX_DELETE, 1, NEG, NEGF, NEGF);

    
    @FireSpellCard2()async;

    int distAugm = 0;
    
    
    while(1)
    {
        float A = RANDF*100f;
        etAngle(0, A, 0f);
        etAim(0, 3);
        int test = 10+(distAugm/6);
        float B = RAND%test + 100;
        float convert = test;
        etDist(0, B + convert);
        etOn(0);
        distAugm+=1;
        wait(5);
    }
}

void BossCard3()
{
    var A, B;
    unless ($TIMEOUT == 0) goto BossCard3_160 @ 0;
    etCancel(640.0f);
    goto BossCard3_180 @ 0;
BossCard3_160:
    etClear(640.0f);
BossCard3_180:
+2: //2
    setChapter(64);
+2: //4
    ins_569(1);
    stars(1);
    @BossItemCard();
    timerReset();
    killAllAsync();
    enmKillAll();
    unless ($TIMEOUT == 0) goto BossCard3_448 @ 4;
    etCancel(640.0f);
    goto BossCard3_468 @ 4;
BossCard3_448:
    etClear(640.0f);
BossCard3_468:
    spellEnd();
    funcSet(0);
    reset();
    playSound(27);
    moveVel(0.0f, 0.0f);
    moveVelTime(0, 0, 0.0f, 0.0f);
    movePosTime(0, 0, 0.0f, 0.0f);
    $MISS_COUNT = 0;
    $BOMB_COUNT = 0;
    $CAPTURE = 1;
    setNext(0, 0, 3000, "Boss4");
    spell(50, 3000, 500000, "Changement d'état [Ebullition]");
    movePosTime(60, 4, 0.0f, 0.0f);
    moveLimit(0.0f, 200f, 64.0f, 64.0f);
    anmSelect(3);
    anm316(0, 0);
+60: //64
    nop();
	@BossCard3_at()async;
	while(1)
	{

	wait(75:75:50:45);
	}
}

void BossCard3_at()
{
	etNew(0);
    etSprite(0, 25, 0);
    etSpeed(0, 2f, 2f);
    etAim(0, 1);
    etEx(0, 0, EX_BRIGHT, 50, NEG, 0.0f, 0f);

    etNew(1);
    etSprite(1, 27, 0);
    etSpeed(1, 2f, 2f);
    etAim(1, 1);
    etEx(1, 0, EX_BRIGHT, 250, NEG, 0.0f, 0f);

    float tempete = rad(1);
    float vague = -130f;
    int switch1 = 0;
    while(1) {

        
        
        etOffset(0, 200f, vague);
        etAngle(0,tempete,0f);
        etOn(0);
        etOffset(1, 200f, vague);
        etAngle(1,tempete-rad(180),0f);
        etOn(1);

        etOffset(0, -200f, vague);
        etAngle(0,tempete,0f);
        etOn(0);
        etOffset(1, -200f, vague);
        etAngle(1,tempete-rad(180),0f);
        etOn(1);

        tempete+= rad(100);

        if(switch1 == 0) {
            vague+= 1f:2f:3f:4f;
        }else {
            vague-= 1f:2f:3f:4f;
        }
        
        if(switch1 == 0 && vague >= 300f) {
            switch1 = 1;
            
        }
        if(switch1 == 1 && vague <= -130f) {
            switch1 = 0;
        }
        wait(3);

    }
} 

void BossCard3_at2()
{
	etNew(0);
	etCount(0, 16, 8);
	etSpeed(0, 3.0f, 5.5f);
	etSprite(0, 12, 13);
	etAim(0, 2);
	etEx(0, 0, EX_ANGLE_ACCEL, 50, NEG, 0.0f, 6f);
	etAngle(0, %ANGLE_PLAYER, 0.0f);
	wait(32);
	etOn(0);
}

void BossCard4()
{
    var A, B;
    unless ($TIMEOUT == 0) goto BossCard4_160 @ 0;
    etCancel(640.0f);
    goto BossCard4_180 @ 0;
BossCard4_160:
    etClear(640.0f);
BossCard4_180:
    @BossItemCard();
    timerReset();
    killAllAsync();
    enmKillAll();
    unless ($TIMEOUT == 0) goto BossCard4_388 @ 0;
    etCancel(640.0f);
    goto BossCard4_408 @ 0;
BossCard4_388:
    etClear(640.0f);
BossCard4_408:
    spellEnd();
    funcSet(0);
    reset();
    playSound(27);
    moveVel(0.0f, 0.0f);
    moveVelTime(0, 0, 0.0f, 0.0f);
    movePosTime(0, 0, 0.0f, 0.0f);
    $MISS_COUNT = 0;
    $BOMB_COUNT = 0;
    $CAPTURE = 1;
    setNext(0, 0, 4000, "BossDead");
    spell(54, 3000, 500000, "�����u���F�̋����v");
	spellTimeout();
	moveLimitReset();
    movePosTime(60, 4, 0.0f, 224.0f);
    anmSelect(3);
    anm316(0, 0);
+60: //60
    nop();
	Flocon()async;
	Zero();
}

void Flocon()
{
	float A = 0f;
	int lasid = 0;
	etNew(0);
	etAim(0, 3);
	etCount(0, 1, 1);
	etAngle(0, ANGLE_PLAYER, 0f);
	etSpeed(0, 1f, 1f);
	etSound(0, -1, -1);
	etSprite(0, 10, 5);
	laserNew(0, 0f, 150f, 0f, 23f);
	laserTiming(0, 40, 10, 60, 10, 0);
	while(1)
	{
	etOffset(0, 0f, 0f);
	laserNew(0, 150f, 150f, 0f, 32f);
	A = RANDRAD;
	etAngle(0, ANGLE_PLAYER, 0f);
	times(6)
	{
		etAngle(0, A, 0f);
		laserStOn(0, lasid);
		lasid += 1;
		A += rad(60);
	}
	wait(10);
	laserNew(0, 75f, 75f, 0f, 32f);
	times(6)
	{
		etOffset(0, cos(A)*150f, sin(A)*150f);
		lasid += 1;
		etAngle(0, A, 0f);
		laserStOn(0, lasid);
		lasid += 1;
		etAngle(0, A+rad(45), 0f);
		laserStOn(0, lasid);
		lasid += 1;
		etAngle(0, A-rad(45), 0f);
		laserStOn(0, lasid);
		lasid += 1;
		A += rad(60);
	}
	wait(120);
	}
}

void Zero()
{
	etNew(1);
	etAim(1, 3);
	etCount(1, 15:20:20:25, 2:2:3:3);
	etSpeed(1, 1f, 3.5f:4f:4f:4f);
	etSprite(1, 4, 6);
	etExSet(1, 0, 0, EX_ANIM, 0, NEG, NEGF, NEGF);
	etExSet(1, 1, 0, EX_VELTIME, 440, NEG, 0f, NEGF);
	etExSet(1, 2, 0, EX_SETSPRITE, 4, 8, NEGF, NEGF);
	etExSet(1, 3, 0, EX_WAIT, 120, NEG, NEGF, NEGF);
	etExSet(1, 4, 0, EX_DELETE, 0, NEG, NEGF, NEGF);
	while(1)
	{
		etAngle(1, RANDRAD, RANDRAD);
		etOn(1);
		wait(60:60:60:70);
	}
}


void BossDead()
{
    flagSet(156);
    playSound(5);
    moveVel(%RANDRAD, 0.4f);
    unless ($TIMEOUT == 0) goto BossDead_260 @ 0;
    enmCreate("Ecl_EtBreak2", 0.0f, 0.0f, 9999, 0, 0);
    goto BossDead_316 @ 0;
BossDead_260:
    enmCreate("Ecl_EtBreak2_ni", 0.0f, 0.0f, 9999, 0, 0);
BossDead_316:
    enmKillAll();
+60: //60
    etClearAll();
    spellEnd();
    @BossItemPhase(40, 15, 64.0f);
    setScreenShake(30, 12, 0);
    anmPlay(1, 32);
    anmPlay(1, 64);
    playSound(5);
    setBoss(-1);
    delete();
    delete();
}

void BossEscape()
{
    spellEnd();
    moveLimitReset();
    enmKillAll();
    unless ($TIMEOUT == 0) goto BossEscape_208 @ 0;
    etCancel(640.0f);
    goto BossEscape_228 @ 0;
BossEscape_208:
    etClear(640.0f);
BossEscape_228:
    lifeSet(100000);
    setChapter(43);
    setBoss(-1);
    flagSet(16);
    movePosTime(60, 4, -224.0f, -16.0f);
    wait(60);
    delete();
    delete();
}
